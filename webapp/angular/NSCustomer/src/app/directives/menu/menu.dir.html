 <header class="topbar-nav">
  <nav class="navbar navbar-expand-lg navbar-light fixed-top bg-light d-print-none">

  <!-- Logo -->
  <a class="navbar-brand" routerLink='/products'>
      <img src="/assets/images/lg.png" class="logo" alt="Logo" />
  </a>

  <!-- Mobile Menu Toggle -->
  <button class="mobile-menu-toggle" (click)="toggleMobileMenu()" type="button" [class.open]="isMobileMenuOpen">
      <span class="toggle-icon">
          <span></span>
          <span></span>
          <span></span>
      </span>
  </button>

  <!-- Desktop Navigation -->
  <div class="desktop-nav">
      <ul class="navbar-nav nav-links">
          <li class="nav-item">
              <a class="nav-link" routerLinkActive="active" routerLink='/products'>Products</a>
          </li>
          <li class="nav-item" *ngIf="currentUser">
              <a class="nav-link" routerLinkActive="active" routerLink='/address/list'>Address</a>
          </li>
          <li class="nav-item" *ngIf="currentUser">
              <a class="nav-link" routerLinkActive="active" routerLink='/orders'>Orders</a>
          </li>
      </ul>

      <div class="nav-right">
          <!-- Login Button for non-logged in users -->
          <a *ngIf="!currentUser" class="login-btn" routerLink='/login'>
              <i class="zmdi zmdi-account-circle"></i>
              <span>Login</span>
          </a>
          <div *ngIf="currentUser" class="user-greeting-container">
              <div class="user-greeting">
                  <span class="greeting-text">Hello,</span>
                  <span class="user-name">{{currentUser.name || currentUser.contact}}</span>
                  <span class="greeting-wave">ðŸ‘‹</span>
              </div>
          </div>

          <div class="user-dropdown" *ngIf="currentUser">
              <a class="dropdown-toggle" (click)="toggleDropdown()" style="cursor: pointer;">
                  <div class="avatar">
                      <img *ngIf="currentUser.pic" [src]="'data:image/jpeg;base64,'+currentUser.pic" alt="user avatar">
                      <i *ngIf="!currentUser.pic" class="zmdi zmdi-account-circle default-user-icon"></i>
                  </div>
              </a>
              <div class="dropdown-menu-custom" [class.show]="isDropdownOpen">
                  <a class="dropdown-item-custom" routerLink="/profile/my-profile" (click)="closeDropdown()">
                      <i class="zmdi zmdi-account"></i> Profile
                  </a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item-custom" (click)="closeDropdown()">
                      <i class="zmdi zmdi-settings"></i> Preferences
                  </a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item-custom" (click)="logout()">
                      <i class="zmdi zmdi-power"></i> Logout
                  </a>
              </div>
          </div>
      </div>
  </div>

  <!-- Mobile Menu Overlay -->
  <div class="mobile-menu-overlay" [class.show]="isMobileMenuOpen" (click)="closeMobileMenu()"></div>
  
  <!-- Mobile Menu -->
  <div class="mobile-menu" [class.show]="isMobileMenuOpen">
      <div class="mobile-menu-header">
          <h5 *ngIf="currentUser">Hello, {{currentUser.name || currentUser.contact}}! ðŸ‘‹</h5>
      </div>
      
      <ul class="mobile-nav-links">
          <li>
              <a routerLink='/products' (click)="closeMobileMenu()" routerLinkActive="active">
                  <i class="zmdi zmdi-shopping-basket"></i>
                  <span>Products</span>
              </a>
          </li>
          <li *ngIf="currentUser">
              <a routerLink='/address/list' (click)="closeMobileMenu()" routerLinkActive="active">
                  <i class="zmdi zmdi-pin"></i>
                  <span>Address</span>
              </a>
          </li>
          <li *ngIf="currentUser">
              <a routerLink='/orders' (click)="closeMobileMenu()" routerLinkActive="active">
                  <i class="zmdi zmdi-shopping-cart"></i>
                  <span>Orders</span>
              </a>
          </li>
          <li *ngIf="!currentUser">
              <a routerLink='/login' (click)="closeMobileMenu()" class="login-link">
                  <i class="zmdi zmdi-account"></i>
                  <span>Login</span>
              </a>
          </li>
          <li *ngIf="currentUser">
              <a routerLink='/profile/my-profile' (click)="closeMobileMenu()" routerLinkActive="active">
                  <i class="zmdi zmdi-account"></i>
                  <span>Profile</span>
              </a>
          </li>
          <li *ngIf="currentUser">
              <a (click)="logout()" style="cursor: pointer;">
                  <i class="zmdi zmdi-power"></i>
                  <span>Logout</span>
              </a>
          </li>
      </ul>
  </div>

</nav>
</header>